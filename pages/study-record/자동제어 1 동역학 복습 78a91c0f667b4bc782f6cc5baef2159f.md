# 자동제어 1.동역학 복습

date: 2023년 12월 25일
slug: sr-AC001
author: jinwoo im
status: Public
tags: Linear Control
summary: 인하대학교 김종한 교수님 자동제어 강의 정리, Dynamics Summary
type: Post
thumbnail: Untitled%201.png
updatedAt: 2025년 3월 24일 오후 5:14
category: 🚀 Automatic Control

---

## 01. 병진운동(Translational motion)

---

병진 운동은 회전이 없이 운동하는 운동이다. 

엄밀하게는 물체를 이루는 모든 입자들이 동일한 거리를 움직이는 운동이다.

병진 운동을 지배하는 **운동방정식**은 다음과 같다.

$$
F = ma
$$

가속도는 시간  $t$에 대해서 속도 $v$ 를 미분한 것이므로, 다음과 같이 표현 할 수 있다.

$$
F = m\dot{v} \\
$$

또한 속도는 시간  $t$에 대해서 변위 $x$ 를 미분한 것이므로, 다음과 같이 표현 할 수 있다. 

$$
F = m\ddot{x}
$$

따라서 병진운동하는 물체의 운동방정식은 다음과 같이 표현 될 수 있다.

$$
F =ma=m\dot{v} = m\ddot{x}
$$

자세한 이해를 위해 다음과 같은 예시를 생각해보자.

![Untitled](%EC%9E%90%EB%8F%99%EC%A0%9C%EC%96%B4%201%20%EB%8F%99%EC%97%AD%ED%95%99%20%EB%B3%B5%EC%8A%B5%2078a91c0f667b4bc782f6cc5baef2159f/Untitled.png)

질량 $m$인 썰매가 지면과의 마찰없이 힘 $u$ 를 받으며 간다고 생각해보자.

이때 물체에 작용하는 **항력(Drag)**는 다음과 같이 표현될 수 있다.

$D = \frac{1}{2} \rho v^2 S C_D$

이때 $\rho, S,  C_D$ 는 상수 취급할 수 있으므로 항력  $D$는 다음과 같이 표현된다.

$D = \frac{1}{2} Cv^2, C = constant$

따라서 이 물체의 운동방정식은 다음과 같이 표현된다.

$ma = Cv^2 + u$

이 운동방정식은 아까 배운 표현법을 사용하면 다음과 같이 표현된다.

> $m\dot{v} = Cv^{2} + u$
> 
> 
> $m\ddot{x} = C\dot{x}^2 + u$
> 

**이때 $y(t),\dot{y(t)}$ 를 알면 $y(t+dt) ≈  y(t) + dt\dot{y(t)}$ 로 나타낼 수 있고 이는 Taylor Approximation 으로 생각 할 수 있다.** 

위 식을 보면 내가 입력  $u$를 적절하게 제어해준다면, $x$ 가 적절하게 바뀐다는 것을 알 수 있다.

이 식은 비선형 미분방정식이므로 풀 수 있는 방법은 다양하지만 지금 다루지는 않을 것이다

예를 들어 

1. 해석적인 방법
2. 수치해석(롱게-쿠타 방법) 이 있다.

### 01.2 LTI 시스템

---

자동제어에서의 시스템은 모두 LTI 시스템이다.

LTI 시스템이란 Linear time invariant시스템이라는 뜻으로써, 시간에 따라 변하지 않는 **선형시불변시스템**이라 생각할 수 있다.

선형시불변 시스템은 다음과 같은 특성을 가진다.

### 1.3 용수철 댐퍼 시스템

---

다음과 같은 용수철-댐퍼 시스템을 생각해보자.

![Untitled](%EC%9E%90%EB%8F%99%EC%A0%9C%EC%96%B4%202%20%EB%9D%BC%ED%94%8C%EB%9D%BC%EC%8A%A4%20%EB%B3%80%ED%99%98%207367e3f291b448aea9365a3f5ae37dd1/Untitled.png)

댐퍼는 **속도에 비례하는 힘**이라는 것을 알고, 댐퍼 상수 $b$ 를 가정하여 운동방정식을 세워보자.

물체의 이동방향에 대해서 용수철 힘은 물체의 이동방향에 대해 **반대방향**으로 작용하므로

> $F_k = -kx$ 로 쓸 수 있다
> 

또한 물체의 이동방향에 대해서 댐퍼 힘또한 물체의 이동방향에 대해 **반대방향**으로 작용하므로

> $F_b =-bv= -b\dot{x}$ 로 쓸 수 있다.
> 

따라서 물체의 운동방정식을 써보면,

> $ma = -kx - bv + u$
$m\ddot{x} = -kx -b\dot{x}+u$
> 

와 같이 되고 위 식은

> **$u = m\ddot{x} + b\dot{x}+kx$**
> 

로 변환된다.

이는 상미분 방정식으로써, 다양한 방식으로 문제를 풀 수 있다. 

예를 들어서 라플라스 변환을 사용하여 문제를 풀 수 있다.

하지만 지금 배울 것은 아니므로 생략하도록 한다.

조금 더 복잡한 예시를 생각해보자.

![Untitled](%EC%9E%90%EB%8F%99%EC%A0%9C%EC%96%B4%201%20%EB%8F%99%EC%97%AD%ED%95%99%20%EB%B3%B5%EC%8A%B5%2078a91c0f667b4bc782f6cc5baef2159f/Untitled%201.png)

이 식을 정리해보자.

![Untitled](%EC%9E%90%EB%8F%99%EC%A0%9C%EC%96%B4%201%20%EB%8F%99%EC%97%AD%ED%95%99%20%EB%B3%B5%EC%8A%B5%2078a91c0f667b4bc782f6cc5baef2159f/Untitled%202.png)

$m_1 \ddot{x_1} = k_2(x_2 - x_1)+b_2(\dot{x_2}-\dot{x_1}) - k_1x_1 - b_1\dot{x_1}$

$m_2 \ddot{x_2} = -k_2(x_2 - x_1)-b_2(\dot{x_2}-\dot{x_1})$

는 **선형 연립방정식**이므로, 행렬을 이용하면 다음과 같이 표현 될 수 있다.

$\begin{bmatrix}m_1&0\\0&m_2 \end{bmatrix} \begin{bmatrix}\ddot{x_1}\\\ddot{x_1}\end{bmatrix} +\begin{bmatrix}b_1+b_2&-b_2\\-b_2&b_2 \end{bmatrix} \begin{bmatrix}\dot{x_1}\\\dot{x_1}\end{bmatrix}+\begin{bmatrix}k_1+k_2&-k_2\\-k_2&k_2 \end{bmatrix} \begin{bmatrix}x_1\\x_2\end{bmatrix} = \begin{bmatrix}0\\0\end{bmatrix}$ 

만약 $m_2$ 에 내가 **제어하는 힘 $u$** 를 가한다면 위 식은 아래와 같이 바뀐다.

$\begin{bmatrix}m_1&0\\0&m_2 \end{bmatrix} \begin{bmatrix}\ddot{x_1}\\\ddot{x_1}\end{bmatrix} +\begin{bmatrix}b_1+b_2&-b_2\\-b_2&b_2 \end{bmatrix} \begin{bmatrix}\dot{x_1}\\\dot{x_1}\end{bmatrix}+\begin{bmatrix}k_1+k_2&-k_2\\-k_2&k_2 \end{bmatrix} \begin{bmatrix}x_1\\x_2\end{bmatrix} = \begin{bmatrix}0\\1\end{bmatrix}u$

따라서 이 식은 다음과 같은 **Linear equation**으로 표현 가능하다.

$M\ddot{y} + B\dot{y}+ Ky = U$

$M = \begin{bmatrix}m_1&0\\0&m_2 \end{bmatrix}$ 

$B = \begin{bmatrix}b_1+b_2&-b_2\\-b_2&b_2 \end{bmatrix}$ 

### Homework

---

1. 아래 그림을 보고, 운동방정식을 선형방정식 형태로 작성하시오.

![Untitled](%EC%9E%90%EB%8F%99%EC%A0%9C%EC%96%B4%201%20%EB%8F%99%EC%97%AD%ED%95%99%20%EB%B3%B5%EC%8A%B5%2078a91c0f667b4bc782f6cc5baef2159f/Untitled%203.png)

- Solution
    
    $\begin{bmatrix}m_1&0\\0&m_2 \end{bmatrix} \begin{bmatrix}\ddot{x_1}\\\ddot{x_1}\end{bmatrix} +\begin{bmatrix}b_1+b_2&-b_2\\-b_2&b_2 \end{bmatrix} \begin{bmatrix}\dot{x_1}\\\dot{x_1}\end{bmatrix}+\begin{bmatrix}k_1+k_2&-k_2\\-k_2&k_2+k_3 \end{bmatrix} \begin{bmatrix}x_1\\x_2\end{bmatrix} = \begin{bmatrix}0\\1\end{bmatrix}u$
    

1. n개의 뎀퍼-스프링 시스템이 서로 연결되어 있다고 해보자. 

또한 내가 맨 위에 제어입력 u를 넣었을 때, N개의 물체의 운동을 미분방정식 형태로 표현하시오.

그림은 아래와 같다.
    
    ![0A2FC292-1F5F-4B1A-B8F6-1E9365DCE592.jpeg](%EC%9E%90%EB%8F%99%EC%A0%9C%EC%96%B4%201%20%EB%8F%99%EC%97%AD%ED%95%99%20%EB%B3%B5%EC%8A%B5%2078a91c0f667b4bc782f6cc5baef2159f/0A2FC292-1F5F-4B1A-B8F6-1E9365DCE592.jpeg)
    
    - 다음과 같은 형태로 표현 가능하다.
        
        
        $M\ddot{y} + B\dot{y}+ Ky = U$
        
        $M = \begin{bmatrix}
        m_1 & 0 & \cdots & 0 \\
        0 & m_2 & \cdots & 0 \\
        \vdots & \vdots & \ddots & \vdots \\
        0 & 0 & \cdots & m_n
        \end{bmatrix}$
        
        $B = \begin{bmatrix}
        b_1 + b_2 & -b_2 & 0 & \cdots & 0 \\
        -b_2 & b_2 + b_3 & -b_3 & \cdots & 0 \\
        0 & -b_3 & b_3 + b_4 & \ddots & \vdots \\
        \vdots & \vdots & \ddots & \ddots & -b_{n-1} \\
        0 & 0 & \cdots & -b_{n-1} & b_{n-1} + b_n
        \end{bmatrix}$
        
        $K = \begin{bmatrix}
        k_1 + k_2 & -k_2 & 0 & \cdots & 0 \\
        -k_2 & k_2 + k_3 & -k_3 & \cdots & 0 \\
        0 & -k_3 & k_3 + k_4 & \ddots & \vdots \\
        \vdots & \vdots & \ddots & \ddots & -k_{n-1} \\
        0 & 0 & \cdots & -k_{n-1} & k_{n-1} + k_n
        \end{bmatrix}$
        

## 02. 회전운동(Rotational motion)

---

병진운동과 비슷하게 회전운동 또한 비슷한 형태로 쓰여진다.

토크 $T$ 는 다음과 같이 쓸 수 있다. 

$T = I\alpha = I\dot{q} = I\ddot{\theta}$

이제 다음과 같은 상황을 생각해보자.

![Untitled](%EC%9E%90%EB%8F%99%EC%A0%9C%EC%96%B4%201%20%EB%8F%99%EC%97%AD%ED%95%99%20%EB%B3%B5%EC%8A%B5%2078a91c0f667b4bc782f6cc5baef2159f/Untitled%204.png)

병진운동과 같이 아래와 같이 운동방정식을 세울 수 있다.

> $I\ddot{\theta} = -b\dot{\theta} + Fr$
> 

다른 상황을 생각해보자.

다음과 같은 중력이 작용하는 진자운동을 생각해보자.

![Untitled](%EC%9E%90%EB%8F%99%EC%A0%9C%EC%96%B4%201%20%EB%8F%99%EC%97%AD%ED%95%99%20%EB%B3%B5%EC%8A%B5%2078a91c0f667b4bc782f6cc5baef2159f/Untitled%205.png)

> $I\ddot{\theta} = -(mgsin\theta)l$
$ml^2\ddot{\theta} = -(mgsin\theta)l$
> 

이때 $I$ 를 구하는 공식은 관성모멘트를 구하는 공식을 사용해야 한다.

- 막대의 관성 모멘트 구하는 공식
    
    $I = \int r^2 \, dm$
    
    이때 막대가 균일하다면, $dm = \frac{M}{l} dr$ 로 치환할 수 있고
    
    $I = \int r^2 \, \frac{M}{l} dr$ 이고 이를 적분하면 $\frac{Ml^3}{3}$ 이 나온다.
    

이 방정식 또한 비선형 미분 방정식이다.

아까도 그렇고, 지금도 그렇고 비선형 미분 방정식은 풀기가 너무 힘들다. 

비선형방정식을 선형방정식으로 만들 수 있다면 얼마나 좋을까…..

우리는 $sin$함수와 $cos$ 함수는 주기성을 가지고 있으며, 다음과 같이 $\theta = 0$ 에서 선형화가 가능하다는 것을 알고 있다.

![Untitled](%EC%9E%90%EB%8F%99%EC%A0%9C%EC%96%B4%201%20%EB%8F%99%EC%97%AD%ED%95%99%20%EB%B3%B5%EC%8A%B5%2078a91c0f667b4bc782f6cc5baef2159f/Untitled%206.png)

이떄 $\frac{g}{l}sin{\theta} \approx\frac{g}{l}\theta$ 이므로, 단진자의 회전폭이 크지 않다면, $sin{\theta} \approx \theta$ 로 근사화 할 수 있다. 

따라서 이 방정식을 선형화 시켜서 풀면, 아래와 같은 결과가 나온다.

$\theta = \theta(0) cos(\sqrt{\frac{g}{l}})$로 진자운동을 한다.

### 인공위성의 회전운동 제어

또 다른 예시를 생각해보자.

다음과 같은 인공위성이 있다고 생각해보자.

![Untitled](%EC%9E%90%EB%8F%99%EC%A0%9C%EC%96%B4%201%20%EB%8F%99%EC%97%AD%ED%95%99%20%EB%B3%B5%EC%8A%B5%2078a91c0f667b4bc782f6cc5baef2159f/Untitled%207.png)

이 인공위성은, 중력의 차이로 미세한 토크가 발생하는데 그에 따른 시스템을 모델링해보면 다음과 같다.

![Untitled](%EC%9E%90%EB%8F%99%EC%A0%9C%EC%96%B4%201%20%EB%8F%99%EC%97%AD%ED%95%99%20%EB%B3%B5%EC%8A%B5%2078a91c0f667b4bc782f6cc5baef2159f/Untitled%208.png)

이 시스템을 모델링해보면

$I_1 \ddot{\theta_1} = k(\theta_2-\theta_1)+T$ 

$I_2 \ddot{\theta_2} = -k(\theta_2-\theta_1)$

이는 아까와 같이 다음과 같이 linear equation으로 나타낼 수 있다.

$\begin{bmatrix}I_1&0\\0&I_2 \end{bmatrix} \begin{bmatrix}\ddot{\theta_1}\\\ddot{\theta_2}\end{bmatrix} +\begin{bmatrix}k&-k\\-k&k \end{bmatrix} \begin{bmatrix}\theta_1\\\theta_2\end{bmatrix} = \begin{bmatrix}1\\0\end{bmatrix} T$

## 03. 병진운동+회전운동

---

이제 복잡한 예시를 생각해보자.

다음과 같은 세그웨이가 있다.

![Untitled](%EC%9E%90%EB%8F%99%EC%A0%9C%EC%96%B4%201%20%EB%8F%99%EC%97%AD%ED%95%99%20%EB%B3%B5%EC%8A%B5%2078a91c0f667b4bc782f6cc5baef2159f/Untitled%209.png)

이 세그웨이의 동적방정식을 모델링해보자.

세그웨이는 막대와 휠로 이루어져있다.